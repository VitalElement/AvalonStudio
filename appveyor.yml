version: 1.0.{build}
configuration: Release
platform: x86
before_build:
- cmd: >-
    git submodule update --init --recursive

    nuget restore AvalonStudio/AvalonStudio.sln
build:
  project: AvalonStudio/AvalonStudio.sln
  verbosity: minimal
after_build:
- cmd: 7z a -r AvalonStudio.zip %APPVEYOR_BUILD_FOLDER%\AvalonStudio\AvalonStudio\bin\x86\Release\*.*
artifacts:
- path: AvalonStudio.zip
deploy:
- provider: Environment
  name: FastRing
  on:
    branch: master
    APPVEYOR_REPO_TAG: true
notifications:
- provider: Webhook
  url: https://webhooks.gitter.im/e/e8ce2449e773a183903b
  method: POST
  on_build_success: true
  on_build_failure: true
  on_build_status_changed: true